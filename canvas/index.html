<!DOCTYPE html>
<html lang="en">
    <!-- <meta name="viewport" content="width=device-width, initial-scale=0.5,minimum-scale=0.5, maximum-scale=0.5, user-scalable=yes"> -->
    <meta name="viewport" content="width=device-width">
    <head>
        <meta charset="UTF-8">
        <title></title>
        <!-- jquery --> <link rel="stylesheet" href="https://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css" />
        <!-- jquery --> <script src="https://code.jquery.com/jquery-1.11.2.min.js"></script>
        <!-- jquery --> <script src="https://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>    
    </head>
    <style>
        * { margin: 0px; padding: 0px; }
        html, body { height: 100%; }
    </style>
    <body>
        <canvas id="main">
        </canvas>
    </body>
    <script>
$(function(){
    var w,h;

    w = $('html,body').width();
    h = $('html,body').height();
    var canvas = $('canvas')
        .prop('width', w)
        .prop('height', h).get(0);

    // obj
    // drow
    function render(){
        var ctx = canvas.getContext('2d');
        ctx.beginPath();
        for(i in lines){
            ctx.lineTo(lines[i].x, lines[i].y);
        }
        ctx.stroke();
    }

    // events
    window.lines = [];
    $('html,body').on('touchend mouseup', function(e){
        e.preventDefault();
        $(this).data('dragging', false);
    });
    $('html,body').on('touchstart mousedown', function(e){
        e.preventDefault();
        var f = (!!e.type.match('touch'));
        var main = {
            x: (f?e.originalEvent.changedTouches[0]:e).pageX,
            y: (f?e.originalEvent.changedTouches[0]:e).pageY
        };
        lines = [main];
        $(this).data('dragging', true);
    });
    $('html,body').on('touchmove mousemove', function(e){
        e.preventDefault();
        var dragging = $(this).data('dragging');
        if(dragging){
            var f = (!!e.type.match('touch'));
            var main = {
                x: (f?e.originalEvent.changedTouches[0]:e).pageX,
                y: (f?e.originalEvent.changedTouches[0]:e).pageY
            };
            var l = lines.length-1;
            if(main.x != lines[l].x || main.y != lines[l].y){
                lines.push({
                    x: main.x,
                    y: main.y,
                });
                render();
            }
        }
    });
});
    </script>
</html>
